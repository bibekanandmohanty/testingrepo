(this["webpackJsonpinkxe10-designer"]=this["webpackJsonpinkxe10-designer"]||[]).push([[2],{883:function(e,t,a){},884:function(e,t,a){e.exports=a.p+"static/media/BebasNeue-Regular.47f711bd.ttf"},906:function(e,t,a){e.exports=a.p+"static/media/text_none.51477bc3.svg"},907:function(e,t,a){e.exports=a.p+"static/media/text_wave.b3afb8bb.svg"},908:function(e,t,a){e.exports=a.p+"static/media/text_bridge.15794d61.svg"},909:function(e,t,a){e.exports=a.p+"static/media/text_bridgedown.708d351c.svg"},910:function(e,t,a){e.exports=a.p+"static/media/text_pinch.84790266.svg"},911:function(e,t,a){e.exports=a.p+"static/media/text_bulge.0db8f144.svg"},912:function(e,t,a){e.exports=a.p+"static/media/text_arch.22ee4c54.svg"},913:function(e,t,a){e.exports=a.p+"static/media/text_archdown.64e2561f.svg"},914:function(e,t,a){e.exports=a.p+"static/media/text_slopeleft.b0815dd4.svg"},915:function(e,t,a){e.exports=a.p+"static/media/text_sloperight.8bd3cf11.svg"},916:function(e,t,a){e.exports=a.p+"static/media/text_arcup.8d6f8b5d.svg"},917:function(e,t,a){e.exports=a.p+"static/media/text_arcdown.e3908c6b.svg"},918:function(e,t,a){e.exports=a.p+"static/media/text_roofb.2601fefc.svg"},919:function(e,t,a){e.exports=a.p+"static/media/text_rooft.5a2fe42c.svg"},920:function(e,t,a){e.exports=a.p+"static/media/text_wedgebr.757a9124.svg"},921:function(e,t,a){e.exports=a.p+"static/media/text_wedgebl.aae2c7e3.svg"},922:function(e,t,a){e.exports=a.p+"static/media/text_roof.6afee986.svg"},923:function(e,t,a){e.exports=a.p+"static/media/text_circle.5dda2a2a.svg"},924:function(e,t,a){e.exports=a.p+"static/media/text_uppercircle.58ea09c8.svg"},935:function(e,t,a){"use strict";a.r(t);var l=a(10),n=a(11),s=a(16),i=a(15),r=a(0),o=a.n(r),c=a(261),m=a(12),f=a(880),d=a.n(f),p=a(134),u=a.n(p),v=a(156),h=function(e){if(e.loading)return o.a.createElement(r.Fragment,null,o.a.createElement("div",{className:"card text-input"},o.a.createElement("textarea",{name:"",id:"",cols:"30",rows:"3",className:"form-control",placeholder:e.language.main.enterText,value:e.fullText,readOnly:!0}),o.a.createElement("div",{className:"loader small",style:{background:"rgba(255, 255, 255, 0.85)",height:"84px",borderRadius:"calc(0.25rem - 1px) calc(0.25rem - 1px) 0 0"}},o.a.createElement("div",{className:"loader-gif"},o.a.createElement("svg",{width:"38",height:"38",viewBox:"0 0 38 38"},o.a.createElement("g",{fill:"none",fillRule:"evenodd"},o.a.createElement("g",{transform:"translate(1 1)",strokeWidth:"2"},o.a.createElement("circle",{strokeOpacity:".5",cx:"18",cy:"18",r:"18"}),o.a.createElement("path",{d:"M36 18c0-9.94-8.06-18-18-18"},o.a.createElement("animateTransform",{attributeName:"transform",type:"rotate",from:"0 18 18",to:"360 18 18",dur:"1s",repeatCount:"indefinite"}))))))),o.a.createElement("div",{className:"card-footer"},o.a.createElement("div",{className:"styleRow"},o.a.createElement("div",{className:"btn-group disable-item"},o.a.createElement("div",{className:"btn btn-default border-0"},o.a.createElement("i",{className:"vertical-text-svg-icon"}))),o.a.createElement("div",{className:"styleCol disable-item"},o.a.createElement("div",{className:"btn-group d-none"},o.a.createElement("div",{className:"btn btn-default btn-sm"},o.a.createElement("i",{className:"nf nf-bold"})),o.a.createElement("div",{className:"btn btn-default btn-sm"},o.a.createElement("i",{className:"nf nf-italic"})),o.a.createElement("div",{className:"btn btn-default btn-sm"},o.a.createElement("i",{className:"nf nf-underline"})))),o.a.createElement("div",{className:"btn-group"},o.a.createElement("div",{className:"btn btn-default btn-sm"},o.a.createElement("i",{className:"nf nf-text-left"})),o.a.createElement("div",{className:"btn btn-default btn-sm"},o.a.createElement("i",{className:"nf nf-text-center"})),o.a.createElement("div",{className:"btn btn-default btn-sm"},o.a.createElement("i",{className:"nf nf-text-right"})))))));function t(){return o.a.createElement(r.Fragment,null,o.a.createElement("div",{id:"text_menu_preview"},o.a.createElement("svg",{id:"xe_text_svg",version:"1.1",width:"600",height:"600",viewBox:"0 0 600 600",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},o.a.createElement("g",{id:"xe_txtgrp"}))),o.a.createElement("div",{className:e.isNameNumberElem?"hidden":"card text-input"},o.a.createElement("textarea",{name:"",id:"",cols:"30",rows:"3",dir:"auto",className:"form-control",placeholder:e.language.main.enterText,style:{textAlign:e.align},value:e.isVertical?e.fullText.replace(/\n|\r/g,""):e.fullText,onChange:function(t){return e.getInputText(t.target.value)},onKeyDown:function(t){return e.onEnterPress(t)},maxLength:e.isMaxCharAllowed?e.maxCharAllowed:""}),o.a.createElement("div",{className:"card-footer"},o.a.createElement("div",{className:"styleRow"},o.a.createElement("div",{className:""===e.fullText||0!==e.numoflines&&!e.isVertical?"btn-group disable-item":"btn-group"},"none"===e.selectedEffect.type&&o.a.createElement("div",{className:"btn btn-default border-0"+(e.isVertical?" active":"")+(e.numoflines>0&&!e.isVertical?" disabled":""),title:"Vertical Text",onClick:function(){return e.applyVerticalText()}},o.a.createElement("i",{className:"vertical-text-svg-icon"}))),o.a.createElement("div",{className:"styleCol disable-item"},o.a.createElement("div",{className:"btn-group d-none"},o.a.createElement("div",{className:"btn btn-default btn-sm"},o.a.createElement("i",{className:"nf nf-bold"})),o.a.createElement("div",{className:"btn btn-default btn-sm"},o.a.createElement("i",{className:"nf nf-italic"})),o.a.createElement("div",{className:"btn btn-default btn-sm"},o.a.createElement("i",{className:"nf nf-underline"})))),o.a.createElement("div",{className:""!==e.fullText?"btn-group":"disable-item"},o.a.createElement("div",{className:"left"===e.align?"btn btn-default btn-sm active":"btn btn-default btn-sm",onClick:function(){return e.setTextAlign("left")}},o.a.createElement("i",{className:"nf nf-text-left",title:"Left"})),o.a.createElement("div",{className:"center"===e.align?"btn btn-default btn-sm active":"btn btn-default btn-sm",onClick:function(){return e.setTextAlign("center")}},o.a.createElement("i",{className:"nf nf-text-center",title:"Center"})),o.a.createElement("div",{className:"right"===e.align?"btn btn-default btn-sm active":"btn btn-default btn-sm",onClick:function(){return e.setTextAlign("right")}},o.a.createElement("i",{className:"nf nf-text-right",title:"Right"})))))),e.isMaxCharAllowed&&o.a.createElement("p",{className:"text-options-left font-weight-normal"},e.maxCharAllowed-e.fullText.length>=0?e.maxCharAllowed-e.fullText.length+" character(s) left.":"0 character(s) left."),function(){if(e.fullText&&e.enableGraphicFont&&!e.isNameNumberElem&&(!e.selectedElm||e.isTemplateEdit||e.selectedElm&&e.selectedElm.prefs&&e.selectedElm.prefs.lock&&!1===e.selectedElm.prefs.lock.editFont&&!e.isEmbroideryEnable))return o.a.createElement("ul",{className:"nav nav-pills custom-pills mt-3 mb-2",id:"pills-tab",role:"tablist"},o.a.createElement("li",{className:"nav-item"},o.a.createElement("a",{href:"#/",className:!0===e.isSimpleFontActive?"nav-link active":"nav-link",onClick:function(){return e.openFonts("simple",!0)}},e.language.fonts.simpleFonts)),o.a.createElement("li",{className:"nav-item"},o.a.createElement("a",{href:"#/",className:!1===e.isSimpleFontActive?"nav-link active":"nav-link",onClick:function(){return e.openFonts("graphics",!0)}},e.language.fonts.graphicFonts)))}())}function a(){if(e.isSimpleFontActive)return o.a.createElement(r.Fragment,null,o.a.createElement("div",{className:""!==e.fullText?"listView-elements":"hidden"},o.a.createElement("div",{className:"text-options"},o.a.createElement("div",{className:"text-options-left"},e.language.text.fontSize),o.a.createElement("div",{className:"text-options-right"},o.a.createElement(d.a,{maxValue:120,minValue:e.minFontSize,value:e.fontSize,step:2,onChange:function(t){return e.onFontSizeChange(t)}}),o.a.createElement(v.DebounceInput,{className:"output",minLength:1,debounceTimeout:500,value:e.fontSize?e.fontSize:e.minFontSize,onChange:e.validateFontSize,pattern:"[0-9]*"})))),o.a.createElement("div",{className:""===e.fullText||e.isVertical?"hidden":"listView-elements"},o.a.createElement("div",{className:"text-options"},o.a.createElement("div",{className:"text-options-left"},e.language.text.letterSpacing),o.a.createElement("div",{className:"text-options-right"},o.a.createElement(d.a,{maxValue:100,minValue:0,value:e.letterSpace,step:5,onChange:function(t){return e.onLetterSpaceChange(t)}}),o.a.createElement(v.DebounceInput,{className:"output",minLength:1,value:e.letterSpace?e.letterSpace:"0",onChange:e.validateLetterSpace,pattern:"[0-9]*"})))),o.a.createElement("div",{className:"listView-elements",style:{display:e.numoflines>0||e.isVertical?"block":"none"}},o.a.createElement("div",{className:"text-options"},o.a.createElement("div",{className:"text-options-left"},e.isVertical?e.language.text.letterSpacing:e.language.text.lineSpacing),o.a.createElement("div",{className:"text-options-right"},o.a.createElement(d.a,{maxValue:100,minValue:0,value:e.lineSpace,step:5,onChange:function(t){return e.onLineSpaceChange(t)}}),o.a.createElement(v.DebounceInput,{className:"output",minLength:1,value:e.lineSpace?e.lineSpace:"0",onChange:e.validateLineSpace,pattern:"[0-9]*"})))))}function l(){if(!e.selectedElm||e.isTemplateEdit||e.selectedElm&&e.selectedElm.prefs&&e.selectedElm.prefs.lock&&!1===e.selectedElm.prefs.lock.colorEdit&&e.isShowColorOption)return o.a.createElement("div",{className:"listView-elements"},o.a.createElement("div",{className:"text-options"},o.a.createElement("div",{className:"text-options-left"},e.language.text.textColor),o.a.createElement("div",{className:"text-options-right",onClick:function(){return e.openView("textColor")}},o.a.createElement("div",{className:"color-btn"},"none"===e.fillColor?o.a.createElement("div",{className:"color-swatch",style:{backgroundImage:"url("+u.a+")"}}):/^#([0-9A-F]{3}){1,2}$/i.test(e.fillColor)?o.a.createElement("div",{className:"color-swatch",style:{background:e.fillColor}}):o.a.createElement("div",{className:"color-swatch",style:{background:"url("+m.a.assets_path+"/color_palettes/"+e.fillColor+")"}})),o.a.createElement("i",{className:"nxi nxi-move-right ml-2 cursor-pointer"}))))}function n(){if(!e.selectedElm||e.isTemplateEdit||e.selectedElm&&e.selectedElm.prefs&&e.selectedElm.prefs.lock&&!1===e.selectedElm.prefs.lock.colorEdit&&e.isShowColorOption)return o.a.createElement("div",{className:1===e.showOutLine?"listView-elements":"listView-elements hidden"},o.a.createElement("div",{className:"text-options"},o.a.createElement("div",{className:"text-options-left"},e.language.text.outline),o.a.createElement("div",{className:"text-options-right",onClick:function(){return e.openView("textOutline")}},o.a.createElement("div",{className:"color-btn"},o.a.createElement("div",{className:"color-swatch-name"},e.strokeWidth,"px \\"),/^#([0-9A-F]{3}){1,2}$/i.test(e.strokeColor)?o.a.createElement("div",{className:"color-swatch",style:{background:e.strokeColor}}):"none"===e.strokeColor?o.a.createElement("div",{className:"color-swatch",style:{backgroundImage:"url("+u.a+")"}}):o.a.createElement("div",{className:"color-swatch",style:{background:"url("+m.a.assets_path+"/color_palettes/"+e.strokeColor+")"}})),o.a.createElement("i",{className:"nxi nxi-move-right ml-2  cursor-pointer"}))))}return o.a.createElement(r.Fragment,null,o.a.createElement("div",{className:"nav nav-tabs-custom d-flex d-sm-flex d-md-flex d-lg-none d-xl-none"},o.a.createElement("div",{className:"nav-item"+(""===e.activeView?" active":""),onClick:function(){return e.openView("")}},o.a.createElement("div",{className:"nav-item-icon"},o.a.createElement("i",{className:"nf nf-adjust"})),o.a.createElement("div",{className:"nav-item-label"},o.a.createElement("div",{className:"label-title"},o.a.createElement("span",{className:""},e.language.main.settings)))),function(){if(!e.selectedElm||e.isTemplateEdit||e.selectedElm&&e.selectedElm.prefs&&e.selectedElm.prefs.lock&&!1===e.selectedElm.prefs.lock.editFont)return o.a.createElement("div",{className:"nav-item"+("fonts"===e.activeView?" active":""),onClick:function(){return e.openView("fonts")}},o.a.createElement("div",{className:"nav-item-icon"},o.a.createElement("i",{className:"nf nf-font-symbol"})),o.a.createElement("div",{className:"nav-item-label"},o.a.createElement("div",{className:"label-title"},o.a.createElement("span",{className:""},e.language.text.fonts))))}(),e.isSimpleFontActive&&o.a.createElement(r.Fragment,null,function(){if(!e.selectedElm||e.isTemplateEdit||e.selectedElm&&e.selectedElm.prefs&&e.selectedElm.prefs.lock&&!1===e.selectedElm.prefs.lock.colorEdit)return o.a.createElement(r.Fragment,null,o.a.createElement("div",{className:"nav-item"+("textColor"===e.activeView?" active":""),onClick:function(){return e.openView("textColor")}},o.a.createElement("div",{className:"nav-item-icon"},o.a.createElement("i",{className:"nf nf-fill"})),o.a.createElement("div",{className:"nav-item-label"},o.a.createElement("div",{className:"label-title"},o.a.createElement("span",{className:""},"Color")))),o.a.createElement("div",{className:1===e.showOutLine?"nav-item"+("textOutline"===e.activeView?" active":""):"nav-item d-none",onClick:function(){return e.openView("textOutline")}},o.a.createElement("div",{className:"nav-item-icon"},o.a.createElement("i",{className:"nf nf-outer-border"})),o.a.createElement("div",{className:"nav-item-label"},o.a.createElement("div",{className:"label-title"},o.a.createElement("span",{className:""},"Outline")))))}(),o.a.createElement("div",{className:"nav-item"+("effects"===e.activeView?" active":"")+(e.isNameNumberElem?" hidden":""),onClick:function(){return e.openView("effects")}},o.a.createElement("div",{className:"nav-item-icon"},o.a.createElement("i",{className:"nf nf-magic-wand"})),o.a.createElement("div",{className:"nav-item-label"},o.a.createElement("div",{className:"label-title"},o.a.createElement("span",{className:""},e.language.text.effects)))))),o.a.createElement("div",{className:""===e.activeView?"textSection d-none d-md-block d-lg-block d-xl-block":"hidden"},t(),function(){if(e.isSimpleFontActive)return o.a.createElement("div",{className:""!==e.fullText?"listView":"hidden"},o.a.createElement("div",{className:"listView-wrap"},function(){if(!e.selectedElm||e.isTemplateEdit||e.selectedElm&&e.selectedElm.prefs&&e.selectedElm.prefs.lock&&!1===e.selectedElm.prefs.lock.editFont)return o.a.createElement("div",{className:"listView-elements"},o.a.createElement("div",{className:"text-options"},o.a.createElement("div",{className:"text-options-left"}," ",e.language.text.fonts),o.a.createElement("div",{className:"text-options-right",onClick:function(){return e.openView("fonts")}},o.a.createElement("div",{className:"text-options-list"},o.a.createElement("div",{id:"selctedFont",className:"font-list",style:{fontFamily:e.selectedFont?e.selectedFont.font_family:""}},e.language.text.fontStyle)),o.a.createElement("i",{className:"nxi nxi-move-right ml-2 cursor-pointer"}))))}(),a(),l(),n(),o.a.createElement("div",{className:e.isNameNumberElem?"hidden":"listView-elements",style:{display:0!==e.numoflines||e.isVertical?"none":"block"}},o.a.createElement("div",{className:"text-options"},o.a.createElement("div",{className:"text-options-left"},e.language.text.effects),o.a.createElement("div",{className:"text-options-right",onClick:function(){return e.openView("effects")}},o.a.createElement("div",{className:"text-options-list"},o.a.createElement("div",{className:"color-btn"},o.a.createElement("span",{className:"color-swatch-name"},e.selectedEffect?e.selectedEffect.title:"Plain text"),o.a.createElement("div",{className:"color-swatch"},o.a.createElement("img",{src:e.selectedEffect?e.selectedEffect.src:"/static/media/text_none.51477bc3.svg",alt:"",style:{height:"24px"}})))),o.a.createElement("i",{className:"nxi nxi-move-right ml-2 cursor-pointer"})))),o.a.createElement("div",{className:""!==e.fullText&&"none"!==e.selectedEffect.type?"listView-elements":"hidden"},o.a.createElement("div",{className:"text-options"},o.a.createElement("div",{className:"text-options-left"},e.language.text.effectSize?e.language.text.effectSize:"Effect Size"),o.a.createElement("div",{className:"text-options-right"},o.a.createElement(d.a,{maxValue:e.selectedEffect.maxSize,minValue:e.selectedEffect.minSize,value:e.artSize?e.artSize:1,step:.1,onChange:function(t){return e.onArtSizeChange(t)}}),o.a.createElement(v.DebounceInput,{className:"output",minLength:1,value:e.artSize?e.artSize:"1",pattern:"[0-9]*"}))))))}()),o.a.createElement("div",{className:"textSection d-md-none d-lg-none d-xl-none"+(""===e.activeView?" d-block d-sm-block":" d-none d-sm-none")},t(),o.a.createElement("div",{className:"listView"},o.a.createElement("div",{className:"listView-wrap"},a()))))},E=function(e){return o.a.createElement("div",{className:"effects"===e.activeView?"textEffectsWrap":"hidden"},o.a.createElement("div",{className:"element-controls-header d-none d-md-flex d-lg-flex d-xl-flex"},o.a.createElement("section",{className:"boxTitle back-to-back",onClick:function(){return e.onButtonSelected(e.textEffectList[e.lastSelectedEffectIndex],e.lastSelectedEffectIndex,"cancel")}},o.a.createElement("div",{className:"icon",title:e.language.main.backToSection},o.a.createElement("i",{className:"nf nf-left-arrow"}))),o.a.createElement("div",{className:"text"},e.language.text.chooseTextShape),o.a.createElement("div",{className:"boxTitle back-to-menu",title:e.language.main.backToMain},o.a.createElement("i",{className:"nf nf-delete"}))),o.a.createElement("div",{className:"listView-elements border-top-0"},o.a.createElement("div",{className:e.selectedEffect&&"none"===e.selectedEffect.type?"text-options disabled":"text-options"},o.a.createElement("div",{className:"text-options-left"},e.language.text.effectSize?e.language.text.effectSize:"Effect Size"),o.a.createElement("div",{className:"text-options-right"},o.a.createElement(d.a,{maxValue:e.selectedEffect?e.selectedEffect.maxSize:5,minValue:e.selectedEffect?e.selectedEffect.minSize:.1,value:e.artSize?e.artSize:1,step:.1,onChange:function(t){return e.onArtSizeChange(t)}}),o.a.createElement(v.DebounceInput,{className:"output",minLength:1,debounceTimeout:500,value:e.artSize?e.artSize:"1",onChange:e.validateTextEffect,pattern:"[0-9]*"})))),o.a.createElement("div",{className:"listView scrollbar"},o.a.createElement("div",{className:"listView-wrap effectBox"},e.textEffectList.map((function(t,a){return o.a.createElement("div",{key:t.id,className:"listView-elements",onClick:function(){return e.onEffectSelected(t,a)}},o.a.createElement("div",{className:"font-wrap "+(e.isActiveEffect[a]?"active":"")},o.a.createElement("div",{className:"font-wrap-style"},o.a.createElement("img",{src:t.src,alt:""}))))})))),o.a.createElement("div",{className:"d-flex buttonGroup"},o.a.createElement("button",{className:"btn btn-sm btn-dark btn-block text-light mr-1",onClick:function(){return e.onButtonSelected(e.textEffectList[e.lastSelectedEffectIndex],e.lastSelectedEffectIndex,"cancel")}},e.language.main.cancel),o.a.createElement("button",{className:"btn btn-sm btn-success btn-block m-0 ml-1",onClick:function(){return e.onButtonSelected(e.textEffectList[e.currentSelectedEffectIndex],e.currentSelectedEffectIndex,"done")}},e.language.main.done)))},g=function(e){Object(s.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).onButtonSelected=function(e,t,a){n.props.openView(""),"done"===a?n.setState({lastSelectedEffectIndex:t}):(n.setState({currentSelectedEffectIndex:t}),n.props.onEffectSelected(e,t))},n.onEffectSelected=function(e,t){n.setState({currentSelectedEffectIndex:t}),n.props.onEffectSelected(e,t,1)},n.state={lastSelectedEffectIndex:0,currentSelectedEffectIndex:0},n}return Object(n.a)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return o.a.createElement(E,{activeView:this.props.activeView,openView:this.props.openView,textEffectList:this.props.textEffectList,onEffectSelected:this.onEffectSelected,isActiveEffect:this.props.isActiveEffect,language:this.props.language,currentSelectedEffectIndex:this.state.currentSelectedEffectIndex,lastSelectedEffectIndex:this.state.lastSelectedEffectIndex,artSize:this.props.artSize,selectedEffect:this.props.selectedEffect,onArtSizeChange:this.props.onArtSizeChange,onButtonSelected:this.onButtonSelected,validateTextEffect:this.props.validateTextEffect})}}]),a}(o.a.Component),x=a(111),b=function(e){return"textColor"===e.activeView?o.a.createElement("div",{className:"textColor"===e.activeView?"textColorWrap":"hidden"},o.a.createElement("div",{className:"element-controls-header d-none d-md-flex d-lg-flex d-xl-flex"},o.a.createElement("section",{className:"boxTitle back-to-back",onClick:function(){return e.openView("")}},o.a.createElement("div",{className:"icon",title:e.language.main.backToSection},o.a.createElement("i",{className:"nf nf-left-arrow"})),o.a.createElement("div",{className:"text"},e.language.panel.back)),o.a.createElement("div",{className:"boxTitle back-to-menu",title:e.language.main.backToMain,onClick:function(){return e.openView("")}},o.a.createElement("i",{className:"nf nf-delete"}))),o.a.createElement("div",{className:"listView"},o.a.createElement("div",{className:"listView-wrap"},o.a.createElement("div",{className:"listView-elements"},!1===e.isMobileView&&o.a.createElement("div",{className:"text-options as-column pt-0 pb-2"},o.a.createElement("div",{className:"text-options-left"},e.language.main.selectedColor),o.a.createElement("div",{className:"text-options-right"},o.a.createElement("div",{className:"color-btn mt-1"},o.a.createElement("div",{className:"color-swatch-name"},e.fillColorName),o.a.createElement("div",{className:"color-swatch",style:{background:e.colFillVal}})))),o.a.createElement(x.a,{onColorSelect:e.onFillColorSelect,onColorHover:e.onColorHover,usedColorList:[{fill:e.colFillVal}],selectedColor:e.colFillVal})))),o.a.createElement("div",{className:"buttonGroup"},o.a.createElement("button",{className:"btn btn-sm btn-dark btn-block text-light mr-1",onClick:function(){return e.setTextFillColor("cancel",!0)}},e.language.main.cancel),o.a.createElement("button",{className:"btn btn-sm btn-success btn-block m-0 ml-1",onClick:function(){return e.setTextFillColor("done",!0)}},e.language.main.done))):""},S=a(22),N=a.n(S),C=function(e){Object(s.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).onColorHover=function(e,t){var a;if(n.props.selectedElm){if(!e.hex_value)return;a=n.props.selectedElm,N()(a).find("path").each((function(l,s){var i,r;""!==e.hex_value&&(n.props.isEmbroideryEnable&&(r="url(#"+(i="pattern_"+a.getAttribute("id"))+")",s.setAttribute("fill",r)),t?n.props.isEmbroideryEnable?document.getElementById(i).getElementsByTagName("polygon")[0].setAttribute("fill",e.hex_value):s.setAttribute("fill",e.hex_value):n.props.isEmbroideryEnable?document.getElementById(i).getElementsByTagName("polygon")[0].setAttribute("fill",n.props.colFillVal):a.prefs&&a.prefs.isPatternFill?s.setAttribute("fill","url(#"+a.prefs.colors[0]+")"):s.setAttribute("fill",n.props.colFillVal))}))}},n.state={colName:n.props.fillColorName,colVal:n.props.fillColor},n}return Object(n.a)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return o.a.createElement(b,{activeView:this.props.activeView,openView:this.props.openView,onColorHover:this.onColorHover,language:this.props.language,colFillName:this.props.colFillName,colFillVal:this.props.colFillVal,setTextFillColor:this.props.setTextFillColor,onFillColorSelect:this.props.onFillColorSelect})}}]),a}(o.a.Component),k=function(e){return"textOutline"===e.activeView?o.a.createElement("div",{className:"textOutline"===e.activeView?"textOutlineWrap":"hidden"},o.a.createElement("div",{className:"element-controls-header d-none d-md-flex d-lg-flex d-xl-flex"},o.a.createElement("section",{className:"boxTitle back-to-back",onClick:function(){return e.openView("")}},o.a.createElement("div",{className:"icon",title:e.language.main.backToSection},o.a.createElement("i",{className:"nf nf-left-arrow"})),o.a.createElement("div",{className:"text"},e.language.panel.back)),o.a.createElement("div",{className:"boxTitle back-to-menu",title:e.language.main.backToMain},o.a.createElement("i",{className:"nf nf-delete"}))),o.a.createElement("div",{className:"listView"},o.a.createElement("div",{className:"listView-wrap"},o.a.createElement("div",{className:"listView-elements"},o.a.createElement("div",{className:"text-options"},o.a.createElement("div",{className:"text-options-left"},e.language.text.outlineSize),o.a.createElement("div",{className:"text-options-right"},o.a.createElement(d.a,{maxValue:10,minValue:0,value:e.strokeVal,step:1,onChange:function(t){return e.onStokeWidthChange(t)}}),o.a.createElement(v.DebounceInput,{className:"output",minLength:1,value:e.strokeVal?e.strokeVal:"0",onChange:e.validateStokeWidth,pattern:"[0-9]*"})))),o.a.createElement("div",{className:"listView-elements"},!1===e.isMobileView&&o.a.createElement("div",{className:"text-options as-column pb-2"},o.a.createElement("div",{className:"text-options-left mt-3"},e.language.text.outlineColor),o.a.createElement("div",{className:"text-options-right"},o.a.createElement("div",{className:"color-btn mt-1"},o.a.createElement("div",{className:"color-swatch-name"},e.strokeColorName),o.a.createElement("div",{className:"color-swatch",style:{background:e.strokeColor}})))),o.a.createElement(x.a,{onColorSelect:e.onOutLineColorSelect,onColorHover:e.onColorHover,usedColorList:[{fill:e.strokeColor}],selectedColor:e.strokeColor})))),o.a.createElement("div",{className:"buttonGroup"},o.a.createElement("button",{className:"btn btn-sm btn-dark btn-block text-light mr-1",onClick:function(){return e.setTextOutLine("cancel",!0)}},e.language.main.cancel),o.a.createElement("button",{className:"btn btn-sm btn-success btn-block m-0 ml-1",onClick:function(){return e.setTextOutLine("done",!0)}},e.language.main.done))):""},F=function(e){Object(s.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).onColorHover=function(e,t){var a;if(n.props.selectedElm){if(a=n.props.selectedElm,!e.hex_value)return;N()(a).find("path").each((function(l,s){if(""!==e.hex_value)if(t)if(n.props.isEmbroideryEnable){var i="stroke_"+a.getAttribute("id"),r="url(#"+i+")";s.setAttribute("stroke",r),document.getElementById(i)&&document.getElementById(i).getElementsByTagName("polygon")[0].setAttribute("fill",e.hex_value)}else s.setAttribute("stroke",e.hex_value);else if(n.props.isEmbroideryEnable){var o="stroke_"+a.getAttribute("id"),c="url(#"+o+")";s.setAttribute("stroke",c),document.getElementById(o)&&document.getElementById(o).getElementsByTagName("polygon")[0].setAttribute("fill",n.props.colVal)}else s.setAttribute("stroke",n.props.colVal)}))}},n}return Object(n.a)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return o.a.createElement(k,{activeView:this.props.activeView,openView:this.props.openView,onOutLineColorSelect:this.props.onOutLineColorSelect,onColorHover:this.onColorHover,strokeWidth:this.props.strokeWidth,strokeColor:this.props.colVal,strokeColorName:this.props.colName,onStokeWidthChange:this.props.onStokeWidthChange,language:this.props.language,setTextOutLine:this.props.setTextOutLine,strokeVal:this.props.strokeVal,validateStokeWidth:this.props.validateStokeWidth})}}]),a}(o.a.Component),w=a(906),y=a.n(w),T=a(907),V=a.n(T),_=a(908),z=a.n(_),A=a(909),P=a.n(A),L=a(910),O=a.n(L),D=a(911),I=a.n(D),W=a(912),G=a.n(W),B=a(913),j=a.n(B),M=a(914),R=a.n(M),H=a(915),$=a.n(H),U=a(916),J=a.n(U),K=a(917),X=a.n(K),q=a(918),Q=a.n(q),Y=a(919),Z=a.n(Y),ee=a(920),te=a.n(ee),ae=a(921),le=a.n(ae),ne=a(922),se=a.n(ne),ie=a(923),re=a.n(ie),oe=a(924),ce=a.n(oe),me=[{id:1,title:"Plain text",type:"none",src:y.a,minSize:.1,maxSize:5},{id:2,title:"Wave text",type:"wave",src:V.a,minSize:.1,maxSize:3},{id:3,title:"Bridge text",type:"bridge",src:z.a,minSize:.1,maxSize:2},{id:4,title:"Bridge-down",type:"bridgedown",src:P.a,minSize:.1,maxSize:2},{id:5,title:"Pinch text",type:"pinch",src:O.a,minSize:.1,maxSize:2},{id:6,title:"Bulge text",type:"bulge",src:I.a,minSize:.1,maxSize:5},{id:7,title:"Arch-down",type:"archdown",src:G.a,minSize:.1,maxSize:5},{id:8,title:"Arch-up",type:"archup",src:j.a,minSize:.1,maxSize:5},{id:9,title:"Slope left",type:"slopeleft",src:R.a,minSize:.1,maxSize:5},{id:10,title:"Slope right",type:"sloperight",src:$.a,minSize:.1,maxSize:5},{id:11,title:"Arc-down",type:"arcdown",src:J.a,minSize:.1,maxSize:3},{id:12,title:"Arc-up",type:"arcup",src:X.a,minSize:.1,maxSize:3},{id:13,title:"Roof bottom",type:"roofb",src:Q.a,minSize:.1,maxSize:5},{id:14,title:"Roof top",type:"rooft",src:Z.a,minSize:.1,maxSize:5},{id:15,title:"Wedge bottom right",type:"wedgebr",src:te.a,minSize:.1,maxSize:5},{id:16,title:"Wedge bottom left",type:"wedgebl",src:le.a,minSize:.1,maxSize:5},{id:17,title:"Roof",type:"roof",src:se.a,minSize:.1,maxSize:5},{id:18,title:"Circle",type:"circle",src:re.a,minSize:1,maxSize:5},{id:19,title:"Half circle",type:"uppercircle",src:ce.a,minSize:.5,maxSize:5}];var fe=function(){return me},de=a(24),pe=a(3),ue=a(180),ve=a(187),he=a(13),Ee=a(190),ge=a(19),xe=a.n(ge),be=function(e){if(!e.elemCharList)return o.a.createElement("div",{className:"scroll-bar-wrap"},o.a.createElement("div",{className:"thumbView graphicFontsWrap scrollbar"},o.a.createElement("div",{className:"listView-wrap"},o.a.createElement("div",{className:"listView-elements"},o.a.createElement(xe.a,{height:66})),o.a.createElement("div",{className:"listView-elements"},o.a.createElement(xe.a,{height:66})),o.a.createElement("div",{className:"listView-elements"},o.a.createElement(xe.a,{height:66})))));return o.a.createElement("div",null,o.a.createElement("div",{className:"scroll-bar-wrap"},o.a.createElement("div",{className:"thumbView graphicFontsWrap scrollbar"},function(){if(e.elemCharList&&e.elemCharList.length>0&&(!e.selectedElm||e.isTemplateEdit||e.selectedElm&&e.selectedElm.prefs&&e.selectedElm.prefs.lock&&!1===e.selectedElm.prefs.lock.editFont))return o.a.createElement("div",{className:"listView-wrap"},e.elemCharList.map((function(t,a){return o.a.createElement("div",{key:e.graphicFonts[a].xe_id,className:"listView-elements",onClick:function(){return e.fontSelected(e.graphicFonts[a],a)}},o.a.createElement("div",{className:e.selctedFontIndex===a?"font-wrap active":"font-wrap"},t.characters.map((function(e,t){return o.a.createElement("figure",{key:e.xe_id},o.a.createElement("img",{src:e.file_name}))}))))})))}())))},Se=function(e){Object(s.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).openView=function(e){n.props.openView(e)},n.state={elemCharList:null},n.fontSelected=n.fontSelected.bind(Object(he.a)(n)),n}return Object(n.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.props.graphicFonts?this.setLetterCharView():this.props.dispatch(Object(Ee.d)(this.fontInfo)).then((function(){e.setLetterCharView()}))}},{key:"setLetterCharView",value:function(){for(var e=pe.a.getActiveObject(),t=[],a=0;a<this.props.graphicFonts.length;a++)t.push({xe_id:"",characters:"",name:""}),t[a].xe_id=this.props.graphicFonts[a].xe_id,t[a].name=this.props.graphicFonts[a].name,t[a].characters=this.props.graphicFonts[a].characters.slice(0,6),e.prefs.font.xe_id===this.props.graphicFonts[a].xe_id&&this.props.setFontIndex(a);this.setState({elemCharList:t})}},{key:"fontSelected",value:function(e,t){this.props.selectedGraphicsFont(e,t),this.props.setFontIndex(t),this.props.fullText&&this.props.getInputText(this.props.fullText)}},{key:"render",value:function(){var e=this.props,t=e.graphicFonts;e.language;return o.a.createElement(r.Fragment,null,o.a.createElement(be,{graphicFonts:t,fontSelected:this.fontSelected,elemCharList:this.state.elemCharList,selctedFontIndex:this.props.selctedFontIndex,selectedElm:this.props.selectedElm,isTemplateEdit:this.props.isTemplateEdit}))}}]),a}(o.a.Component),Ne=Object(de.b)((function(e){return{graphicFonts:e.graphicFonts.items.data,loading:e.graphicFonts.loading,error:e.graphicFonts.error,fontDetails:e.graphicFonts.items}}))(Se),Ce=(a(883),a(884)),ke=a.n(Ce),Fe=a(90),we=a(39),ye=a(262),Te=a.n(ye),Ve=a(96),_e=function(e){Object(s.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).elementSelected=function(e){if(e&&"text"===e.prefs.type)if(e.prefs.lock&&(e.prefs.lock.editFont||e.prefs.lock.colorEdit)&&""!==n.state.activeView&&!n.props.canvasReducer.isTemplateEdit&&n.openView(""),"graphicText"===e.prefs.subType)n.setState({selectedElm:e,fullText:e.prefs.text,showUpdate:!0},(function(){n.openFonts("graphics")})),n.selectedGraphics=e.prefs.font;else{n.openFonts("simple");for(var t,a=[],l=0;l<n.state.textEffectList.length;l++)n.state.textEffectList[l].type===e.prefs.effect?(a[l]=!0,t=n.state.textEffectList[l]):a[l]=!1;var s=e.prefs.fill;if("none"===e.prefs.fill||/^#([0-9A-F]{3}){1,2}$/i.test(e.prefs.fill))s=e.prefs.fill;else{var i=e.prefs.fill.match(/\d/g);i&&(s="thumb_"+(i=i.join(""))+".png")}var r=e.prefs.stroke;if(/^#([0-9A-F]{3}){1,2}$/i.test(e.prefs.stroke))r=e.prefs.stroke;else if(e.prefs.stroke){var o=e.prefs.stroke.match(/\d/g);o&&(r="thumb_"+(o=o.join(""))+".png")}n.setState({selectedElm:e,fullText:e.prefs.text,fillColor:s,fillColorName:e.prefs.fillName,strokeColor:r,strokeColorName:e.prefs.strokeName,strokeWidth:e.prefs.strokeWidth,selectedFont:e.prefs.font,selectedEffect:t,isActiveEffect:a,numoflines:e.prefs.noOfLines,lineSpace:e.prefs.lineSpace,letterSpace:e.prefs.letterSpace,fontSize:e.prefs.fontSize,artSize:e.prefs.artSize?e.prefs.artSize:1,prefColor:e.prefs.colors,align:e.prefs.align,strokeVal:e.prefs.strokeWidth,isVertical:e.prefs.isVertical,isNameNumberElem:"name"===e.prefs.subType||"number"===e.prefs.subType},(function(){var t=Fe.a.getFont(e.prefs.font.font_family);t?n.setState({fontGlyph:t}):n.loadFont(e.prefs.font)})),n.lastSelectedText=e}else n.setState({selectedElm:null,fullText:"",selectedEffect:n.state.textEffectList[0],letterSpace:0,fontSize:72,lineSpace:0,numoflines:0,artSize:1,isSimpleFontActive:!0,align:"center",isVertical:!1}),""!==n.state.activeView&&n.openView(""),n.lastSelectedText&&("name"!==n.lastSelectedText.prefs.subType&&"number"!==n.lastSelectedText.prefs.subType||n.props.backToModules())},n.onEffectSelected=function(e,t,a){var l,s=[];l=a||n.state.artSize;for(var i=0;i<n.state.textEffectList.length;i++)s[i]=!1;s[t]=!0,n.setState({isActiveEffect:s,artSize:l,selectedEffect:e},(function(){n.generateText()}))},n.generateText=function(e,t,a){var l,s;n.state.fontGlyph?""!==n.state.fullText&&(l="t"===n.state.fillColor[0]?"url(#"+n.state.fillColor+")":n.state.fillColor,s="t"===n.state.strokeColor[0]?"url(#"+n.state.strokeColor+")":n.state.strokeColor,pe.a.generateTextElm(n.state.fullText,n.state.fontGlyph,n.state.align,n.state.selectedEffect.type,n.state.selectedFont,n.state.letterSpace,n.state.lineSpace,l,s,n.state.strokeWidth,n.state.numoflines,"",n.isEmbroideryEnable,e,t,n.state.fontSize,a,n.isEngraveEnable,n.state.artSize,n.state.isVertical,n.state.minFontSize)):alert("Unable to load font!")},n.getInputText=function(e){var t="";if(n.state.isVertical&&e.length>1){for(var a=0;a<e.length;a++)"\n"!==e[a]&&(a<e.length-1?t+=e[a]+"\n":t+=e[a]);e=t}if(!n.state.isSimpleFontActive)return n.setState({fullText:e}),void pe.a.generateGraphicsText(e,n.selectedGraphics);n.props.isMobileView&&(pe.a.canvas.isEditClick=!0);var l=e.split("\n").length-1;n.setState({numoflines:l,fullText:e},(function(){l>0&&"none"!==n.state.selectedEffect.type?n.setState({isActiveEffect:n.state.isActiveEffect[!0],selectedEffect:n.state.textEffectList[0]},(function(){n.generateText()})):n.generateText()}))},n.openView=function(e,t){n.isTempFillColor?n.setTextFillColor("cancel",!0):n.isTempOutlineColor&&n.setTextOutLine("cancel",!0),n.setState({activeView:e},(function(){if(""===e)n.props.setHeaderDispay(!0);else{n.props.setHeaderDispay(!1);var t=pe.a.getActiveObject();t&&t.prefs&&"text"===t.prefs.type&&n.setState({selectedElm:t,fillColor:t.prefs.fill,fillColorName:t.prefs.fillName,strokeColor:t.prefs.stroke,strokeColorName:t.prefs.strokeName,strokeWidth:t.prefs.strokeWidth,selectedFont:t.prefs.font,numoflines:t.prefs.noOfLines,lineSpace:t.prefs.lineSpace,letterSpace:t.prefs.letterSpace,fontSize:t.prefs.fontSize,artSize:t.prefs.artSize,colName:t.prefs.strokeName,colVal:t.prefs.stroke,strokeVal:t.prefs.strokeWidth,colFillName:t.prefs.fillName,colFillVal:t.prefs.fill})}}))},n.loadFont=function(e,t){n.state.selectedFont||n.setState({selectedFont:e});var a=pe.a.getActiveObject(),l=Fe.a.getFont(e.font_family);l?n.setState({fontGlyph:l,loading:!1},(function(){t||(a&&a.prefs&&("number"===a.prefs.subType||"name"===a.prefs.subType)?n.generateText(a.prefs.subType,a.prefs.name):n.generateText())})):Object(Ve.a)(e.file_name,(function(t,l){t?(console.log("Font could not be loaded: "+t),a&&a.prefs&&("number"===a.prefs.subType||"name"===a.prefs.subType)&&n.isDefaultFont&&(n.isDefaultFont=!1,n.elementSelected(a))):(Fe.a.setFont({glyph:l,font_family:e.font_family}),n.setState({fontGlyph:l,loading:!1},(function(){a&&a.prefs&&(n.preFontLoaded?n.elementSelected(a):n.generateText(a.prefs.subType,a.prefs.name),n.preFontLoaded=!1)})))}))},n.loadDefaultFont=function(){Object(Ve.a)(ke.a,(function(e,t){e?console.log("Font could not be loaded: "+e):(Fe.a.setFont({glyph:t,font_family:"Bebas Neue"}),n.setState({fontGlyph:t,loading:!1},(function(){n.generateText()})))}))},n.loadFontLists=function(e,t){var a=pe.a.getActiveObject();if(a&&a.prefs&&"text"===a.prefs.type&&"graphicText"!==a.prefs.subType){n.setState({selectedElm:a,fullText:a.prefs.text,fillColor:a.prefs.fill,fillColorName:a.prefs.fillName,strokeColor:a.prefs.stroke,strokeColorName:a.prefs.strokeName,strokeWidth:a.prefs.strokeWidth,selectedFont:a.prefs.font,numoflines:a.prefs.noOfLines,lineSpace:a.prefs.lineSpace,fontList:e,letterSpace:a.prefs.letterSpace,fontSize:a.prefs.fontSize,artSize:a.prefs.artSize,fontGlyph:Fe.a.getFont(a.prefs.font.font_family),loading:!1});var l=Fe.a.getFont(a.prefs.font.font_family);l?(n.setState({fontGlyph:l}),!a||"number"!==a.prefs.subType&&"name"!==a.prefs.subType||n.elementSelected(a)):n.loadFont(a.prefs.font),n.getEffectFromType(a.prefs.effect)}else if(e&&e.length){var s;if(n.props.selectedPrintProfileData&&n.props.selectedPrintProfileData.text_data&&n.props.selectedPrintProfileData.text_data.is_default_font)Fe.a.getFont(n.props.selectedPrintProfileData.text_data.default_font.font_family)&&(s=n.props.selectedPrintProfileData.text_data.default_font);s||(s=e[0]),n.setState({fontList:e,selectedFont:s}),n.loadFont(s,t)}else n.loadDefaultFont(),n.setState({fontList:e,selectedFont:{xe_id:0,font_family:"Bebas Neue",name:"Bebas"}})},n.selectedFont=function(e,t){n.setState({isActiveFont:e,selectedFont:t},(function(){}))},n.setFillColor=function(e){n.setState({fillColor:e.hex_value,fillColorName:e.name})},n.setStrokeColor=function(e){n.setState({strokeColor:e.hex_value,strokeColorName:e.name,strokeWidth:e.strokeWidth})},n.setStrokeWidth=function(e){n.setState({strokeWidth:e})},n.onLetterSpaceChange=function(e){var t=pe.a.canvas.getSelectedElems()[0];t&&n.setState({letterSpace:e},(function(){n.generateText(t.prefs.subType,t.prefs.name)}))},n.onLineSpaceChange=function(e){var t=pe.a.canvas.getSelectedElems()[0];n.setState({lineSpace:e},(function(){n.generateText(t.prefs.subType,t.prefs.name)}))},n.openFonts=function(e,t){"simple"===e?(n.setState({isFontEnabled:!0,isSimpleFontActive:!0,selectedEffect:n.state.textEffectList[0]}),t&&n.generateText()):(n.setState({isFontEnabled:!1,isSimpleFontActive:!1}),t&&n.setState({selctedFontIndex:""}))},n.selectedGraphicsFont=function(e,t){n.openView(""),n.selectedGraphics=e,n.selectedGraphics&&pe.a.onAllFontsLoad(n.selectedGraphics),n.setState({lastFontInddex:t})},n.addGraphicsFont=function(e){n.selectedGraphics&&pe.a.generateGraphicsText(n.state.fullText,n.selectedGraphics,e)},n.onEnterPress=function(e){(13===e.keyCode&&!1===e.shiftKey&&!n.state.isSimpleFontActive||!n.state.isSimpleFontActive&&!n.selectedGraphics||13===e.keyCode&&n.props.selectedPrintProfileData.text_data&&0===n.props.selectedPrintProfileData.text_data.is_multiline_text||13===e.keyCode&&""===n.state.fullText)&&e.preventDefault()},n.applyVerticalText=function(){n.state.numoflines>0&&!n.state.isVertical||n.setState({isVertical:!n.state.isVertical},(function(){var e,t="";if(n.state.fullText.length>1){if(n.state.isVertical)for(var a=0;a<n.state.fullText.length;a++)"\n"!==n.state.fullText[a]&&(a<n.state.fullText.length-1?t+=n.state.fullText[a]+"\n":t+=n.state.fullText[a]);else t=n.state.fullText.replace(/\r?\n|\r/g,""),e=0;n.setState({fullText:t,numoflines:e},(function(){n.generateText()}))}}))},n.setTextFillColor=function(e,t){var a;n.lastSelectedText&&(a=n.lastSelectedText,"done"===e?/^#([0-9A-F]{3}){1,2}$/i.test(a.prefs.colors)?n.setFillColor({fillColor:a.prefs.fill,fillColorName:a.prefs.fillName,hex_value:a.prefs.fill}):(a.prefs.fill=a.prefs.colors[0],n.setFillColor({fillColor:a.prefs.fill,fillColorName:a.prefs.fillName,hex_value:n.state.fillColor,pref_color:a.prefs.colors})):N()(a).find("path").each((function(e,t){if(/^#([0-9A-F]{3}){1,2}$/i.test(n.state.fillColor)){if(n.isEmbroideryEnable){var l="pattern_"+a.getAttribute("id"),s="url(#"+l+")";t.setAttribute("fill",s),document.getElementById(l)&&document.getElementById(l).getElementsByTagName("polygon")[0].setAttribute("fill",n.state.fillColor)}else t.setAttribute("fill",n.state.fillColor);a.prefs.fill=n.state.fillColor,a.prefs.fillName=n.state.fillColorName,a.prefs.colors[0]=n.state.fillColor}else t.setAttribute("fill","url(#"+n.state.fillColor+")"),a.prefs.fill=n.state.fillColor,a.prefs.fillName=n.state.fillColor.name})),t&&pe.a.canvas.call("changed",[n.lastSelectedText])),n.isTempFillColor=!1,n.openView("")},n.onFillColorSelect=function(e){var t,a={};if(!e.hex_value){var l=e.value.replace(/^.*[\\\/]/,"");pe.a.canvas.setPatternDefs(l,e.value)}if(n.state.selectedElm){(t=n.state.selectedElm).prefs.isPatternFill=!1;var s=e.hex_value;N()(t).find("path").each((function(a,l){if(""!==e.hex_value){if(n.isEmbroideryEnable){var i="pattern_"+t.getAttribute("id"),r="url(#"+i+")";l.setAttribute("fill",r),document.getElementById(i)&&document.getElementById(i).getElementsByTagName("polygon")[0].setAttribute("fill",e.hex_value)}else l.setAttribute("fill",e.hex_value);t.prefs.fill=e.hex_value,t.prefs.fillName=e.name,t.prefs.colors[0]=e.hex_value}else if(""!==e.value){var o=e.value.replace(/^.*[\\\/]/,"");l.setAttribute("fill","url(#"+o+")"),t.prefs.isPatternFill=!0,t.prefs.fillName=e.name,t.prefs.colors[0]=o,s="url(#"+o+")"}})),a={fill:n.lastSelectedColor},pe.a.canvas.addChangesToHistory(t,a,!0),n.lastSelectedColor=e.hex_value,n.setState({colFillName:e.name,colFillVal:s}),n.isTempFillColor=!0}},n.setTextOutLine=function(e,t){var a;(a=n.lastSelectedText)&&("done"===e?(/^#([0-9A-F]{3}){1,2}$/i.test(a.prefs.colors)||(a.prefs.stroke=a.prefs.colors[1]),n.setStrokeColor({strokeColor:a.prefs.stroke,hex_value:a.prefs.stroke,strokeColorName:a.prefs.strokeName,strokeWidth:a.prefs.strokeWidth})):(!n.state.strokeColor.hex_value&&n.state.strokeColor.value&&pe.a.canvas.setPatternDefs("pattern_"+n.state.strokeColor.id,n.state.strokeColor.value),N()(a).find("path").each((function(e,t){if(/^#([0-9A-F]{3}){1,2}$/i.test(n.state.strokeColor)){if(n.isEmbroideryEnable){var l="stroke_"+a.getAttribute("id"),s="url(#"+l+")";t.setAttribute("stroke",s),document.getElementById(l)&&document.getElementById(l).getElementsByTagName("polygon")[0].setAttribute("fill",n.state.strokeColor)}else t.setAttribute("stroke",n.state.strokeColor);a.prefs.stroke=n.state.strokeColor,a.prefs.strokeName=n.state.strokeColorName,a.prefs.colors[1]=n.state.strokeColor,N()(a).find("path").each((function(e,t){t.setAttribute("stroke-width",n.state.strokeWidth),a.prefs.strokeWidth=n.state.strokeWidth,n.setStrokeWidth(n.state.strokeWidth)}))}else if(0!==n.state.strokeColor&&""!==n.state.strokeColor.value){var i=n.state.strokeColor.match(/\d/g);i&&(i=i.join(""),t.setAttribute("stroke","url(#thumb_"+i+".png)")),a.prefs.stroke=n.state.strokeColor,a.prefs.strokeName=n.state.strokeColor,a.prefs.colors[1]=n.state.strokeColor}}))),t&&pe.a.canvas.call("changed",pe.a.canvas.getActiveObject())),n.isTempOutlineColor=!1,n.openView("")},n.onOutLineColorSelect=function(e){var t,a={};if(n.state.selectedElm){if(!e.hex_value){var l=e.value.replace(/^.*[\\\/]/,"");pe.a.canvas.setPatternDefs(l,e.value)}t=n.state.selectedElm;var s=e.hex_value;N()(t).find("path").each((function(a,l){if(""!==e.hex_value){if(n.isEmbroideryEnable){var i="stroke_"+t.getAttribute("id"),r="url(#"+i+")";l.setAttribute("stroke",r),document.getElementById(i)&&document.getElementById(i).getElementsByTagName("polygon")[0].setAttribute("fill",e.hex_value)}else l.setAttribute("stroke",e.hex_value);t.prefs.stroke=e.hex_value,t.prefs.strokeName=e.name,t.prefs.colors[1]=e.hex_value}else if(""!==e.value){var o=e.value.replace(/^.*[\\\/]/,"");l.setAttribute("stroke","url(#"+o+")"),t.prefs.stroke="url(#"+o+")",t.prefs.strokeName=e.name,t.prefs.colors[1]=o,s="url(#"+o+")"}})),a={stroke:n.lastSelectedStrokeColor},pe.a.canvas.addChangesToHistory(t,a,!0),n.lastSelectedStrokeColor=e.value,n.setState({colName:e.name,colVal:s})}n.isTempOutlineColor=!0},n.onStokeWidthChange=function(e){var t;n.state.selectedElm&&((t=n.state.selectedElm).prefs.strokeWidth=e,n.setStrokeVal(e),N()(t).find("path").each((function(t,a){a.setAttribute("stroke-width",e)})))},n.setStrokeVal=function(e){n.setState({strokeVal:e})},n.setFontIndex=function(e){n.setState({selctedFontIndex:e})},n.setTextAlign=function(e){var t=n.state.selectedElm;t&&t.prefs&&"text"===t.prefs.type&&"graphicText"!==t.prefs.subType&&n.setState({align:e},(function(){n.state.numoflines>0?(t.prefs.align=e,n.generateText()):pe.a.alignText(e)}))},n.loadCustomFont=function(e,t){var a=pe.a.getActiveObject();e&&n.setState({fontGlyph:e},(function(){!a||"number"!==a.prefs.subType&&"name"!==a.prefs.subType?n.generateText():n.generateText(a.prefs.subType,a.prefs.name)}))},n.onFontSizeChange=function(e){var t=pe.a.canvas.getSelectedElems()[0];n.setState({fontSize:e},(function(){n.generateText(t.prefs.subType,t.prefs.name,!0)}))},n.onArtSizeChange=function(e){var t=pe.a.canvas.getSelectedElems()[0];n.setState({artSize:e},(function(){n.generateText(t.prefs.subType,t.prefs.name,!0)}))},n.validateFontSize=function(e){if(e.target.value){var t=8;e.target.validity.valid&&(t=parseInt(e.target.value.replace(/^0+/,"")),(t=isNaN(t)?n.state.minFontSize:t)<n.state.minFontSize&&(t=n.state.minFontSize),t>120&&(t=120),e.target.value=t),n.onFontSizeChange(t)}},n.validateLineSpace=function(e){if(e.target.value){var t=0;e.target.validity.valid&&(t=parseInt(e.target.value.replace(/^0+/,"")),(t=isNaN(t)?0:t)>100&&(t=100),e.target.value=t),n.onLineSpaceChange(t)}},n.validateLetterSpace=function(e){if(e.target.value){var t=0;e.target.validity.valid&&(t=parseInt(e.target.value.replace(/^0+/,"")),(t=isNaN(t)?0:t)>100&&(t=100),e.target.value=t),n.onLetterSpaceChange(t)}},n.validateStokeWidth=function(e){if(e.target.value){var t=0;e.target.validity.valid&&(t=parseInt(e.target.value.replace(/^0+/,"")),(t=isNaN(t)?0:t)>10&&(t=10),e.target.value=t),n.onStokeWidthChange(t)}},n.validateTextEffect=function(e){if(e.target.value){var t=.1;e.target.validity.valid&&(t=parseInt(e.target.value.replace(/^0+/,"")),t=isNaN(t)?.1:t,n.state.selectedEffect&&t<n.state.selectedEffect.minSize&&(t=n.state.selectedEffect.minSize),n.state.selectedEffect&&t>n.state.selectedEffect.maxSize&&(t=n.state.selectedEffect.maxSize),e.target.value=t),n.onArtSizeChange(t)}},n.renderTextEffPage=function(){if("effects"===n.state.activeView)return o.a.createElement(g,{activeView:n.state.activeView,openView:n.openView,textEffectList:n.state.textEffectList,onEffectSelected:n.onEffectSelected,isActiveEffect:n.state.isActiveEffect,selectedEffect:n.state.selectedEffect,artSize:n.state.artSize,onArtSizeChange:n.onArtSizeChange,language:n.props.language,validateTextEffect:n.validateTextEffect})},n.renderTextColPage=function(){if("textColor"===n.state.activeView)return o.a.createElement(C,{activeView:n.state.activeView,openView:n.openView,selectedElm:n.state.selectedElm,setFillColor:n.setFillColor,fillColorName:n.state.fillColorName,fillColor:n.state.fillColor,language:n.props.language,setTextFillColor:n.setTextFillColor,onFillColorSelect:n.onFillColorSelect,colFillName:n.state.colFillName,colFillVal:n.state.colFillVal,isEmbroideryEnable:!!(n.props.selectedPrintProfileData&&n.props.selectedPrintProfileData.embroidery&&n.props.selectedPrintProfileData.embroidery.is_embroidery_enabled&&n.embAddons)})},n.renderTextOutlinePage=function(){if("textOutline"===n.state.activeView)return o.a.createElement(F,{activeView:n.state.activeView,openView:n.openView,selectedElm:n.state.selectedElm,setStrokeColor:n.setStrokeColor,strokeColor:n.state.strokeColor,strokeColorName:n.state.strokeColorName,strokeWidth:n.state.strokeWidth,setStrokeWidth:n.setStrokeWidth,language:n.props.language,setTextOutLine:n.setTextOutLine,onOutLineColorSelect:n.onOutLineColorSelect,colName:n.state.colName,colVal:n.state.colVal,onStokeWidthChange:n.onStokeWidthChange,strokeVal:n.state.strokeVal,isEmbroideryEnable:!!(n.props.selectedPrintProfileData&&n.props.selectedPrintProfileData.embroidery&&n.props.selectedPrintProfileData.embroidery.is_embroidery_enabled&&n.embAddons),validateStokeWidth:n.validateStokeWidth})},n.state={textObj:{},activeView:"",fontList:[],align:"center",textEffectList:[],isActiveFont:[!0],isActiveEffect:[!0],selectedFont:null,selectedEffect:null,error:null,loading:!0,fullText:"",selectedElm:null,fillColor:n.props.selectedPrintProfileData.color_data.fill_color_code,fillColorName:n.props.selectedPrintProfileData.color_data.fill_color_code,strokeColor:n.props.selectedPrintProfileData.color_data.border_color_code,strokeColorName:n.props.selectedPrintProfileData.color_data.border_color_code,strokeWidth:0,letterSpace:0,lineSpace:0,numoflines:0,isFontEnabled:!0,isSimpleFontActive:!0,showUpdate:!1,lastFontInddex:0,fontGlyph:null,showOutLine:n.props.selectedPrintProfileData.text_data.is_text_stroke,enableGraphicFont:n.props.selectedPrintProfileData.text_data.do_show_graphic_fonts,strokeVal:0,prefColor:[],isNameNumberElem:!1,fontSize:72,artSize:1,isVertical:!1,minFontSize:n.props.selectedPrintProfileData.text_data&&n.props.selectedPrintProfileData.text_data.is_minimum_font_size?Number(n.props.selectedPrintProfileData.text_data.minimum_font_size):8},n.lastSelectedText=null,n.selectedGraphics="",n.isTempFillColor=!1,n.isTempOutlineColor=!1,n.embAddons=n.props.licenceAddOns.includes("embroidery"),n.engraveAddons=n.props.licenceAddOns.includes("engrave"),n.isEmbroideryEnable=!!(n.props.selectedPrintProfileData&&n.props.selectedPrintProfileData.embroidery&&n.props.selectedPrintProfileData.embroidery.is_embroidery_enabled&&n.embAddons),n.isEngraveEnable=!!(n.props.selectedPrintProfileData&&n.props.selectedPrintProfileData.engrave&&n.props.selectedPrintProfileData.engrave.is_laser_engrave_enabled&&n.engraveAddons),n.preFontLoaded=!0,n.isDefaultFont=!0,n.lastSelectedStrokeColor="#000000",n}return Object(n.a)(a,[{key:"componentDidMount",value:function(){this.loadTextShapeList(),ue.a.name in pe.a.canvas.extensions||(pe.a.addExtension(ue.a.name,(function(){ue.a.init({$:N.a,editor:pe.a})}),{$:N.a}),pe.a.addExtension(ve.a.name,(function(){ve.a.init({$:N.a,editor:pe.a,misCharacter:Te.a})}),{$:N.a}))}},{key:"loadTextShapeList",value:function(){var e=fe();this.setState({textEffectList:e,selectedEffect:e[0]})}},{key:"getEffectFromType",value:function(e){for(var t=0;t<this.state.textEffectList.length;t++)this.state.textEffectList[t].type===e&&this.setState({selectedEffect:this.state.textEffectList[t]})}},{key:"showHideGraphicsFont",value:function(){return this.state.isSimpleFontActive?o.a.createElement(r.Fragment,null,o.a.createElement(we.a,{key:"txtstyling"},o.a.createElement(c.a,{key:"fonts",openView:this.openView,activeView:this.state.activeView,loadFont:this.loadFont,loadFontLists:this.loadFontLists,selectedFont:this.selectedFont,fullText:this.state.fullText,loadCustomFont:this.loadCustomFont,isNameNumberElem:this.state.isNameNumberElem,showNotification:this.props.showNotification,isVertical:this.state.isVertical}),this.renderTextEffPage(),this.renderTextColPage(),this.renderTextOutlinePage())):o.a.createElement(we.a,{key:"txtgraphic"},o.a.createElement(Ne,{key:"graphicFonts",openView:this.openView,activeView:this.state.activeView,loadFont:this.loadFont,loadFontLists:this.loadFontLists,selectedFont:this.selectedFont,selectedGraphicsFont:this.selectedGraphicsFont,fullText:this.state.fullText,getInputText:this.getInputText,lastFontInddex:this.state.lastFontInddex,setFontIndex:this.setFontIndex,selctedFontIndex:this.state.selctedFontIndex,selectedElm:this.state.selectedElm,isTemplateEdit:this.props.canvasReducer.isTemplateEdit}))}},{key:"render",value:function(){return o.a.createElement(r.Fragment,null,o.a.createElement(h,{openView:this.openView,activeView:this.state.activeView,selectedFont:this.state.selectedFont,fullText:this.state.fullText,numoflines:this.state.numoflines,getInputText:this.getInputText,fillColor:this.state.fillColor,fillColorName:this.state.fillColorName,strokeColor:this.state.strokeColor,strokeColorName:this.state.strokeColorName,strokeWidth:this.state.strokeWidth,letterSpace:this.state.letterSpace,lineSpace:this.state.lineSpace,onLetterSpaceChange:this.onLetterSpaceChange,onLineSpaceChange:this.onLineSpaceChange,selectedEffect:this.state.selectedEffect,openFonts:this.openFonts,isFontEnabled:this.state.isFontEnabled,isSimpleFontActive:this.state.isSimpleFontActive,addGraphicsFont:this.addGraphicsFont,showUpdate:this.state.showUpdate,loadFont:this.loadFont,loadFontLists:this.loadFontLists,selectedGraphicsFont:this.selectedGraphicsFont,onCanvasMouseDown:this.props.onCanvasMouseDown,selectedElm:this.state.selectedElm,language:this.props.language,onEnterPress:this.onEnterPress,loading:this.state.loading,showOutLine:this.state.showOutLine,enableGraphicFont:this.state.enableGraphicFont,isMobileView:this.props.isMobileView,isShowColorOption:!(this.props.selectedPrintProfileData&&this.props.selectedPrintProfileData.engrave&&this.props.selectedPrintProfileData.engrave.is_laser_engrave_enabled&&this.props.selectedPrintProfileData.engrave.is_hide_color_options&&this.engraveAddons),setTextAlign:this.setTextAlign,isEmbroideryEnable:!!(this.props.selectedPrintProfileData&&this.props.selectedPrintProfileData.embroidery&&this.props.selectedPrintProfileData.embroidery.is_embroidery_enabled&&this.embAddons),isNameNumberElem:this.state.isNameNumberElem,fontSize:this.state.fontSize,artSize:this.state.artSize,align:this.state.align,onFontSizeChange:this.onFontSizeChange,onArtSizeChange:this.onArtSizeChange,validateFontSize:this.validateFontSize,validateLineSpace:this.validateLineSpace,validateLetterSpace:this.validateLetterSpace,isTemplateEdit:this.props.canvasReducer.isTemplateEdit,applyVerticalText:this.applyVerticalText,isVertical:this.state.isVertical,minFontSize:this.state.minFontSize,isMaxCharAllowed:!!(this.props.selectedPrintProfileData&&this.props.selectedPrintProfileData.text_data&&this.props.selectedPrintProfileData.text_data.is_max_char_allowed),maxCharAllowed:this.props.selectedPrintProfileData&&this.props.selectedPrintProfileData.text_data&&this.props.selectedPrintProfileData.text_data.max_char_allowed}),this.showHideGraphicsFont())}}]),a}(o.a.Component),ze=Object(de.b)((function(e){return{language:e.languageReducer.translation_data.filter((function(t){return t.langCode===e.languageReducer.default_lang}))[0],selectedPrintProfileData:e.printProfileReducer.print_profile_data.filter((function(t){return t.id===e.printProfileReducer.selected_print_profile}))[0],licenceAddOns:e.productCanvasReducer.licenceAddOns,canvasReducer:e.productCanvasReducer}}))(_e);a.d(t,"default",(function(){return ze}))}}]);