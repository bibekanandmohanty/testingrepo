(this["webpackJsonpinkxe10-designer"]=this["webpackJsonpinkxe10-designer"]||[]).push([[9],{942:function(e,t,a){"use strict";a.r(t);var l=a(10),s=a(11),i=a(13),n=a(16),r=a(15),o=a(0),c=a.n(o),d=function(e){return c.a.createElement("div",{className:"scroll-bar-wrap"+(""!==e.activeView?" hidden":"")},c.a.createElement("h6",{className:"alert alert-primary small-txt tip mt-3 mb-0"},c.a.createElement("i",{className:"alert-icon"}),c.a.createElement("span",{className:"alert-txt"},e.language.drawing.drawingInfo)),c.a.createElement("div",{className:"thumbView scrollbar hand-drawing"},c.a.createElement("h6",{className:"sectitle mt-3"},e.language.drawing.tools),c.a.createElement("div",{className:"thumbView-wrap"},e.designType.map((function(t,a){return c.a.createElement("div",{className:"select"===t.name&&"path"!==e.selectedDesignType?"hidden":e.selectedDrawingIndex===a?"thumbView-elements active":e.isMobileView&&"path"===t.name?" hidden":"thumbView-elements",key:t.id},c.a.createElement("div",{className:"imageWrap",onClick:function(){return e.drawDesign(t.name,a)}},c.a.createElement("figure",{className:"imageWrap-box"},c.a.createElement("i",{className:t.icon}),c.a.createElement("span",{className:"icoName"},t.title))))})))))},p=a(9),m=a.n(p),g=a(20),u=a(46),h=a(24),f=a(111),b=a(880),v=a.n(b),E=a(156),w=a(260),C=a.n(w),k=a(236),x=a.n(k),y=a(134),N=a.n(y),S=function(e){function t(e){return!!new RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i").test(e)}return c.a.createElement(o.Fragment,null,c.a.createElement("div",{className:""===e.activeView&&e.activeObj&&e.isObjectSelected?"":"hidden"},c.a.createElement("div",{className:"textView"},function(){if(t(e.objColorList[0].fill)){if(!e.selectedElm||e.isTemplateEdit||e.selectedElm&&e.selectedElm.prefs&&e.selectedElm.prefs.lock&&!1===e.selectedElm.prefs.lock.colorEdit&&e.isShowColorOption)return c.a.createElement("div",{className:"listView-elements"},c.a.createElement("div",{className:"text-options"},c.a.createElement("div",{className:"text-options-left"},e.language.drawing.fillColor),c.a.createElement("div",{className:"text-options-right"},c.a.createElement("div",{className:"color-btn"},c.a.createElement("div",{className:"color-swatch",onClick:function(){return e.colorSelected(e.objColorList[0],0)},style:{backgroundImage:"url("+e.objColorList[0].fill+")"}})))))}else if(!e.selectedElm||e.isTemplateEdit||e.selectedElm&&e.selectedElm.prefs&&e.selectedElm.prefs.lock&&!1===e.selectedElm.prefs.lock.colorEdit&&e.isShowColorOption)return c.a.createElement("div",{className:"listView-elements"},c.a.createElement("div",{className:"text-options"},c.a.createElement("div",{className:"text-options-left"},e.language.drawing.fillColor),c.a.createElement("div",{className:"text-options-right"},c.a.createElement("div",{className:"color-btn"},c.a.createElement("div",{className:"color-swatch",onClick:function(){return e.colorSelected(e.objColorList[0],0)},style:{background:"none"===e.objColorList[0].fill?"url("+N.a+")":e.objColorList[0].fill}})))))}(),c.a.createElement("div",{className:"listView-elements"},c.a.createElement("div",{className:"text-options"},c.a.createElement("div",{className:"text-options-left"},e.language.main.borderWidth),c.a.createElement("div",{className:"text-options-right"},c.a.createElement(v.a,{maxValue:30,minValue:1,value:e.borderWidth,onChange:function(t){return e.onBorderWidthChange(t)}}),c.a.createElement(E.DebounceInput,{className:"output",minLength:1,value:e.borderWidth?e.borderWidth:"0",onChange:e.validateBorderWidth,pattern:"[0-9]*"})))),function(){if(e.objColorList[1]&&t(e.objColorList[1].fill)){if(e.objColorList[1]&&(!e.selectedElm||e.isTemplateEdit||e.selectedElm&&e.selectedElm.prefs&&e.selectedElm.prefs.lock&&!1===e.selectedElm.prefs.lock.colorEdit)&&e.isShowColorOption)return c.a.createElement("div",{className:"listView-elements"},c.a.createElement("div",{className:"text-options"},c.a.createElement("div",{className:"text-options-left"},e.language.drawing.chooseColor),c.a.createElement("div",{className:"text-options-right"},c.a.createElement("div",{className:"color-btn"},c.a.createElement("div",{className:"color-swatch active",onClick:function(){return e.colorSelected(e.objColorList[1],1)},style:{backgroundImage:"url("+e.objColorList[1].fill+")"}})))))}else if(e.objColorList[1]&&(!e.selectedElm||e.isTemplateEdit||e.selectedElm&&e.selectedElm.prefs&&e.selectedElm.prefs.lock&&!1===e.selectedElm.prefs.lock.colorEdit)&&e.isShowColorOption)return c.a.createElement("div",{className:"listView-elements"},c.a.createElement("div",{className:"text-options"},c.a.createElement("div",{className:"text-options-left"},e.language.drawing.chooseColor),c.a.createElement("div",{className:"text-options-right"},c.a.createElement("div",{className:"color-btn"},c.a.createElement("div",{className:"color-swatch active",onClick:function(){return e.colorSelected(e.objColorList[1],1)},style:{background:e.objColorList[1].fill}})))))}(),e.isTemplate&&e.activeObj&&"line"!==e.activeObj.getAttribute("type")&&c.a.createElement("div",{className:"listView-elements"},c.a.createElement("div",{className:"text-options"},c.a.createElement("div",{className:"text-options-left"},e.language.main.createmask?e.language.main.createmask:"Create Mask"," ",c.a.createElement("br",null),c.a.createElement("div",{className:"mt-1"},c.a.createElement("label",null,c.a.createElement("input",{type:"checkbox",style:{cursor:"pointer"},name:"useMask",onChange:function(t){return e.isCreateMask(t)},checked:e.isMaskEnable})," ",e.language.main.useAsMask?e.language.main.useAsMask:"Use this as mask"))),c.a.createElement("div",{className:"text-options-left d-flex justify-content-end flex-column align-items-end"},e.isMaskEnable&&c.a.createElement(C.a,{onChange:e.browseUploadImage,accepts:e.mimeType},c.a.createElement("div",{className:"p-1 shadow-sm rounded bg-white shape-mask-upload"},c.a.createElement("input",{type:"file",style:{width:"0px",height:"0px",position:"absolute",padding:"0px",margin:"0px",overflow:"hidden",opacity:0}}),c.a.createElement("img",{src:x.a,alt:"",className:"img-fluid"})),c.a.createElement("div",{className:"btn btn-sm text-secondary btn-link p-0 text-xxs"},e.language.team.upload))))))),c.a.createElement("div",{className:"colors"===e.activeView?"textColorWrap":"hidden"},c.a.createElement("div",{className:"element-controls-header d-none d-md-flex d-lg-flex d-xl-flex"},c.a.createElement("section",{className:"boxTitle back-to-back",onClick:function(){return e.openView("")}},c.a.createElement("div",{className:"icon",title:e.language.main.backToSection},c.a.createElement("i",{className:"nf nf-left-arrow"}))),c.a.createElement("div",{className:"text"},e.language.drawing.back),c.a.createElement("div",{className:"boxTitle back-to-menu",title:e.language.main.backToMain,onClick:function(){return e.openView("")}},c.a.createElement("i",{className:"nf nf-delete"}))),c.a.createElement("div",{className:"listView"},c.a.createElement("div",{className:"listView-wrap"},c.a.createElement("div",{className:"listView-elements"},c.a.createElement("h3",{className:"boxTitle back-link border-bottom justify-content-between d-flex d-sm-flex d-md-none d-lg-none d-xl-none m-0 pt-3 pl-3 pr-3 pb-3"},c.a.createElement("span",null,e.language.drawing.changeColor),c.a.createElement("span",{className:"btn btn-link text-dark"},c.a.createElement("i",{className:"nf nf-tick"})," ",e.language.main.done)),!1===e.isMobileView&&c.a.createElement("div",{className:"text-options as-column pt-0 pb-2"},c.a.createElement("div",{className:"text-options-left"}," ",e.language.main.selectedColor),c.a.createElement("div",{className:"text-options-right"},c.a.createElement("div",{className:"color-btn mt-1"},c.a.createElement("div",{className:"color-swatch-name"},e.fillColorName)))),function(){if("colors"===e.activeView)return c.a.createElement(f.a,{onColorSelect:e.onColorSelect,onColorHover:e.onColorHover,activeView:e.activeView,usedColorList:e.objColorList,selectedColor:e.selectedColor})}(),c.a.createElement("div",{className:"buttonGroup"},c.a.createElement("button",{className:"btn btn-sm btn-success btn-block mt-3",onClick:function(){return e.openView("")}},e.language.main.done)))))))},j=a(3),O=a(12),T=a(172),_=a(8),A=a(22),B=a.n(A),D=a(259),V=a(424),I=function(e){Object(n.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(l.a)(this,a),(s=t.call(this,e)).extAddedCbImage=function(e){T.a.init({$:B.a,editor:j.a,NS:_.a,fabric:u.fabric,Potrace:D,RgbQuant:V})},s.isCreateMask=function(e){s.setState({isMaskEnable:e.target.checked})},s.browseUploadImage=function(e){if(e.length){if(!1===e[0].type.includes("svg")){if(-1!==["jpg","png","jpeg"].indexOf(e[0].extension.toLowerCase())){var t=new FileReader;t.onloadend=function(){var t=Object(g.a)(m.a.mark((function t(a){var l,i,n,r,o,c,d,p,g,u,h,f,b,v;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return l=a.target.result,r=e[0].name.split(".").pop(),i=s.b64toBlob(l.split(",")[1],e[0].type),n=URL.createObjectURL(i),o=j.a.canvas.getSelectedElems()[0],c=o.getElementsByTagName("path").length?o.getElementsByTagName("path")[0].parentElement.getAttribute("transform"):"",d=o.getBBox(),p=o.getAttribute("transform"),j.a.canvas.deleteSelectedElements(!0),t.next=11,j.a.importBrowseImage(e[0],!1,n,n,s.props.productDetails.scale_unit_id,s.props.globalSettings.file_uploaded.low_resolution,O.a.Dpi,"mask");case 11:j.a.addPreference("updatedFile",n),j.a.addPreference("updatedBlob",i),j.a.addPreference("originalBlob",i),j.a.addPreference("imgExtension",r),g=j.a.canvas.getSelectedElems()[0],u=g.getBBox(),j.a.canvas.moveSelectedElements(d.x-u.x-(u.width-d.width)/2,d.y-u.y-(u.height-d.height)/2),h=g.getAttribute("id"),j.a.addShapeClipPath(o,h,c,p),g.setAttribute("clip-path","url(#mask_"+h+")"),f=document.getElementById("preview_"+h),s.props.borderWidth>0&&f&&(f.setAttribute("stroke-width",s.props.borderWidth),f.setAttribute("stroke",s.appliedCol),f.setAttribute("paint-order","stroke"),f.removeAttribute("stroke-dasharray"),document.getElementById("preview_"+h)&&(b=document.getElementById("preview_"+h).parentNode,v=document.getElementById(h),b&&v&&(b.remove(),v.parentNode.insertBefore(b,v))));case 23:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),t.readAsDataURL(e[0])}}}else s.props.showNotification("danger",s.props.language.background.invalidFileFormat)},s.getUrlParameter=function(e){return("Shopify"!==window.storeType?new URLSearchParams(window.parent.location.search):new URLSearchParams(window.location.search)).get(e)},s.state={selectedUsedColorIndex:"",selectedObj:"",isMaskEnable:!1},s.colorSelected=s.colorSelected.bind(Object(i.a)(s)),s.onColorSelect=s.onColorSelect.bind(Object(i.a)(s)),s.onColorHover=s.onColorHover.bind(Object(i.a)(s)),s.lastColor="",s.allowedMimeType=[".jpg",".png",".jpeg"],s.isTemplate=s.getUrlParameter("temp"),s.appliedCol="#000000",s.lastSelectedColor="#FF0000",s.lastSelectedStrokeColor="#000000",s}return Object(s.a)(a,[{key:"componentDidMount",value:function(){T.a.name in j.a.canvas.extensions||j.a.addExtension(T.a.name,this.extAddedCbImage,{$:B.a})}},{key:"colorSelected",value:function(e,t){e&&(this.setState({currElement:document.getElementById(e.id),selectedUsedColorIndex:t,currSelectedColor:e.fill,lastColor:e.fill}),this.lastColor=e.fill,this.props.openView("colors"))}},{key:"onColorSelect",value:function(e,t){var a={};e.hex_value||j.a.canvas.setPatternDefs("pattern_"+e.id,e.value),this.props.objColorList[this.state.selectedUsedColorIndex].fill=e.hex_value,this.setState({currSelectedColor:e.hex_value||"url(#pattern_"+e.id+")"});var l=this.appliedCol=e.hex_value||"url(#pattern_"+e.id+")",s=document.getElementById(this.props.lastSelectedObjId),i=s.prefs.lastColor;s.prefs&&"pencilDraw"===s.prefs.subType?(s.prefs.colors=[e.hex_value],s.prefs.colors[0]=l,s.children[0].setAttribute("stroke",l),a={stroke:i},j.a.canvas.addChangesToHistory(s.children[0],a),s.prefs.lastColor=l):s.prefs&&"rect"===s.prefs.subType&&(0===this.state.selectedUsedColorIndex?(this.lastSelectedColor=s.prefs.colors[0],s.prefs.colors[0]=l,s.children[0].setAttribute("fill",l),a={fill:this.lastSelectedColor},j.a.canvas.addChangesToHistory(s.children[0],a),this.lastSelectedColor=l):(this.lastSelectedStrokeColor=s.prefs.colors[1],s.prefs.colors[1]=l,s.children[0].setAttribute("stroke",l),a={stroke:this.lastSelectedStrokeColor},j.a.canvas.addChangesToHistory(s.children[0],a),this.lastSelectedStrokeColor=l)),this.lastColor=e.hex_value,j.a.canvas.call("changed",j.a.canvas.getActiveObject())}},{key:"onColorHover",value:function(e,t){if(this.state.currSelectedColor&&e.hex_value){var a=document.getElementById(this.props.lastSelectedObjId);!0===t?(this.setState({lastColor:e.hex_value}),a.prefs&&"rect"===a.prefs.subType&&0===this.state.selectedUsedColorIndex?a.children[0].setAttribute("fill",e.hex_value):a.children[0].setAttribute("stroke",e.hex_value)):!1===t&&(this.setState({lastColor:this.state.currSelectedColor}),a.prefs&&"rect"===a.prefs.subType&&0===this.state.selectedUsedColorIndex?a.children[0].setAttribute("fill",this.state.currSelectedColor):a.children[0].setAttribute("stroke",this.state.currSelectedColor))}}},{key:"b64toBlob",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:512,l=window.atob(e),s=[],i=0;i<l.length;i+=a){for(var n=l.slice(i,i+a),r=new Array(n.length),o=0;o<n.length;o++)r[o]=n.charCodeAt(o);var c=new Uint8Array(r);s.push(c)}var d=new Blob(s,{type:t});return d}},{key:"render",value:function(){return c.a.createElement(S,{openView:this.props.openView,activeView:this.props.activeView,colorSelected:this.colorSelected,selectedUsedColorIndex:this.state.selectedUsedColorIndex,onColorSelect:this.onColorSelect,onColorHover:this.onColorHover,objColorList:this.props.objColorList,language:this.props.language,borderWidth:this.props.borderWidth,onBorderWidthChange:this.props.onBorderWidthChange,activeObj:this.props.activeObj,isObjectSelected:this.props.isObjectSelected,selectedElm:this.props.selectedElm,isShowColorOption:this.props.isShowColorOption,validateBorderWidth:this.props.validateBorderWidth,selectedColor:this.lastColor,isTemplateEdit:this.props.isTemplateEdit,isMaskEnable:this.state.isMaskEnable,isCreateMask:this.isCreateMask,browseUploadImage:this.browseUploadImage,mimeType:this.allowedMimeType,isTemplate:this.isTemplate})}}]),a}(c.a.Component),P=Object(h.b)((function(e){return{globalSettings:e.globalSettingReducer.global_settings_data.image_setting,productDetails:e.productCanvasReducer.product_details}}))(I),W="drawingExt",L=function(e){return Object(g.a)(m.a.mark((function t(){var a,l,s,i;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=e.$,l=e.editor,e.NS,i=(s=l).canvas,s.drawDesign=function(e,t){switch(i.setFillStrokeProperty(t),e){case"line":i.setMode("line");break;case"path":i.setMode("path"),i.setDrawingType("pen");break;case"pencil":i.setMode("fhpath");break;case"rect":i.setMode("rect");break;case"square":i.setMode("square");break;case"fhrect":i.setMode("fhrect");break;case"circle":i.setMode("circle");break;case"ellipse":i.setMode("ellipse");break;case"fhellipse":i.setMode("fhellipse");break;case"select":var l=a("#svgcontent").children();a(l).children().each((function(e,a){if("path"===a.tagName){var l=i.addSVGElementFromJson({element:"g",curStyles:!0,attr:{id:i.getNextId()}});l.appendChild(a),l.prefs={id:l.getAttribute("id"),type:"drawing",subType:"rect",colors:[l.childNodes[0].getAttribute("fill"),l.childNodes[0].getAttribute("stroke")],strokeWidth:t||l.childNodes[0].getAttribute("stroke-width"),lock:{delete:!1,move:!1,rotate:!1,resize:!1,colorEdit:!1}},i.selectOnly([l]),i.setMode("select")}}));break;default:i.setMode("select"),a("#styleoverrides").text("\n                #svgcanvas svg * {\n                  cursor: move;\n                  pointer-events: all;\n                }\n                #svgcanvas svg {\n                  cursor: default;\n                }\n              ")}};case 4:case"end":return t.stop()}}),t)})))()},M=a(39),U=[],R=function(e){Object(n.a)(a,e);var t=Object(r.a)(a);function a(e){var s;return Object(l.a)(this,a),(s=t.call(this,e)).extAddedCb=function(e){L({$:B.a,editor:j.a,NS:_.a})},s.validateBorderWidth=function(e){if(e.target.value){var t=1;e.target.validity.valid&&(t=parseInt(e.target.value.replace(/^0+/,"")),(t=isNaN(t)?1:t)>30&&(t=30)),s.onBorderWidthChange(t)}},s.state={activeView:"",designType:[{id:1,title:s.props.language?s.props.language.drawing.pencil:"Pencil",name:"pencil",icon:"nf nf-penciltool"},{id:2,title:s.props.language?s.props.language.drawing.line:"Line",name:"line",icon:"nf nf-line"},{id:3,title:s.props.language?s.props.language.drawing.pen:"Pen",name:"path",icon:"nf nf-pentool"},{id:4,title:s.props.language?s.props.language.drawing.rectangle:"Rectangle",name:"rect",icon:"nf nf-rectangle"},{id:6,title:s.props.language?s.props.language.drawing.ellipse:"Ellipse",name:"ellipse",icon:"nf nf-ellipse"}],borderWidth:1,objColorList:[{id:0,fill:"#FF0000"},{id:0,fill:"#FF0000"}],lastSelectedObjId:"",selectedDrawingIndex:"",activeObj:null,selectedElm:null,selectedDesignType:""},s.openView=s.openView.bind(Object(i.a)(s)),s.onBorderWidthChange=s.onBorderWidthChange.bind(Object(i.a)(s)),s.drawDesign=s.drawDesign.bind(Object(i.a)(s)),U=s.state.designType,s.engraveAddons=s.props.licenceAddOns.includes("engrave"),s.isEngraveEnable=!!(s.props.selectedPrintProfileData&&s.props.selectedPrintProfileData.engrave&&s.props.selectedPrintProfileData.engrave.is_laser_engrave_enabled&&s.engraveAddons),s.validateBorderWidth=s.validateBorderWidth.bind(Object(i.a)(s)),s.isBWGrayEnable=!!(s.props.selectedPrintProfileData&&s.props.selectedPrintProfileData.engrave&&s.props.selectedPrintProfileData.engrave.is_laser_engrave_enabled&&s.props.selectedPrintProfileData.engrave.is_BWGray_enabled),s.applyEngraveColor=s.props.selectedPrintProfileData&&s.props.selectedPrintProfileData.engrave&&s.props.selectedPrintProfileData.engrave.is_black_white?"#000000":"#808080",s}return Object(s.a)(a,[{key:"componentDidMount",value:function(){W in j.a.canvas.extensions||j.a.addExtension(W,this.extAddedCb,{$:B.a})}},{key:"componentDidUpdate",value:function(e){e.defaultLang!==this.props.defaultLang&&(U=[{id:1,title:this.props.language.drawing.pencil,name:"pencil",icon:"nf nf-penciltool"},{id:2,title:this.props.language.drawing.line,name:"line",icon:"nf nf-line"},{id:3,title:this.props.language.drawing.pen,name:"path",icon:"nf nf-pentool"},{id:4,title:this.props.language.drawing.rectangle,name:"rect",icon:"nf nf-rectangle"},{id:6,title:this.props.language.drawing.ellipse,name:"ellipse",icon:"nf nf-ellipse"},{id:8,title:"Select",name:"select",icon:"nf nf-cursor"}],this.setState({designType:U}))}},{key:"drawDesign",value:function(e,t){var a=this;this.setState({selectedDrawingIndex:t,borderWidth:1,selectedDesignType:e},(function(){j.a.drawDesign(e,a.state.borderWidth)}))}},{key:"onBorderWidthChange",value:function(e){var t=j.a.getActiveObject(),a="";t&&(a=t&&t.getAttribute("stroke")?t:t.getElementsByTagName("path")[0]||t.getElementsByTagName("rect")[0]||t.getElementsByTagName("line")[0]||t.getElementsByTagName("ellipse")[0])&&(a.setAttribute("stroke-width",e),t.prefs.strokeWidth=e,this.setState({borderWidth:e,activeObj:t}))}},{key:"openView",value:function(e){var t=this;this.setState({activeView:e},(function(){""===e?t.props.setHeaderDispay(!0):t.props.setHeaderDispay(!1)}))}},{key:"elementSelected",value:function(e){if(this.setState({selectedElm:e}),e){e.prefs&&e.prefs.lock&&e.prefs.lock.colorEdit&&!this.props.canvasReducer.isTemplateEdit&&this.openView(""),this.setState({activeObj:j.a.getActiveObject(),borderWidth:e.prefs.strokeWidth});var t=[];t[0]=e.prefs.colors;var a="",l=[];if(this.isBWGrayEnable){t[0]=t[1]=this.applyEngraveColor,e.prefs.colors=t;for(var s=e.querySelectorAll("path,polygon,circle,rect,ellipse,line"),i=0,n=s.length;i<n;i++)s[i].setAttribute("fill",this.applyEngraveColor),s[i].setAttribute("stroke",this.applyEngraveColor)}for(var r=0,o=(t=e.prefs.colors).length;r<o;r++)a=t[r],l.push({id:r,fill:a.fill||a});var c=t[0],d=c.substring(c.lastIndexOf("#")+1,c.lastIndexOf(")")),p=t[1],m="";p&&(m=p.substring(p.lastIndexOf("#")+1,p.lastIndexOf(")")));var g=document.getElementById(d),u=document.getElementById(m),h={fill:"",stroke:""};if(g){var f=g.getElementsByTagName("image");h.fill=f[0].getAttribute("xlink:href"),l[0].fill=f[0].getAttribute("xlink:href")}if(u){var b=u.getElementsByTagName("image");h.stroke=b[0].getAttribute("xlink:href"),l[1].fill=b[0].getAttribute("xlink:href")}var v="";switch(e.prefs.ext){case"pencil":v=0;break;case"line":v=1;break;case"pen":v=2;break;case"rect":v=3;break;case"ellipse":v=4}this.setState({objColorList:l,lastSelectedObjId:e.id,selectedDrawingIndex:v,isObjectSelected:!0,patternThumb:h})}else this.openView(""),this.setState({isObjectSelected:!1,selectedDrawingIndex:""})}},{key:"render",value:function(){return c.a.createElement(o.Fragment,null,c.a.createElement(M.a,null,c.a.createElement(d,{drawDesign:this.drawDesign,designType:this.state.designType,language:this.props.language,selectedDrawingIndex:this.state.selectedDrawingIndex,activeView:this.state.activeView,selectedDesignType:this.state.selectedDesignType,isMobileView:this.props.isMobileView}),c.a.createElement(P,{activeView:this.state.activeView,openView:this.openView,objColorList:this.state.objColorList,lastSelectedObjId:this.state.lastSelectedObjId,language:this.props.language,onBorderWidthChange:this.onBorderWidthChange,borderWidth:this.state.borderWidth,activeObj:this.state.activeObj,isObjectSelected:this.state.isObjectSelected,selectedElm:this.state.selectedElm,isShowColorOption:!(this.props.selectedPrintProfileData&&this.props.selectedPrintProfileData.engrave&&this.props.selectedPrintProfileData.engrave.is_laser_engrave_enabled&&this.props.selectedPrintProfileData.engrave.is_hide_color_options&&this.engraveAddons),validateBorderWidth:this.validateBorderWidth,isTemplateEdit:this.props.canvasReducer.isTemplateEdit,showNotification:this.props.showNotification})))}}]),a}(c.a.Component),F=Object(h.b)((function(e){return{language:e.languageReducer.translation_data.filter((function(t){return t.langCode===e.languageReducer.default_lang}))[0],selectedPrintProfileData:e.printProfileReducer.print_profile_data.filter((function(t){return t.id===e.printProfileReducer.selected_print_profile}))[0],defaultLang:e.languageReducer.default_lang,licenceAddOns:e.productCanvasReducer.licenceAddOns,canvasReducer:e.productCanvasReducer}}))(R);a.d(t,"default",(function(){return F}))}}]);